# 进程

进程就是处于执行期的程序。

## 进程描述符及任务结构

### 进程描述符

内核通过一个唯一的进程标识值（PID，process identification）来标识每个进程。

### 进程状态

+ TASK_RUNNING（运行）
  
+ TASK_INTERRUPTIBLE（可中断）

+ TASK_UNINTERRUPTIBLE（不可中断）

+ __TASK_TRACED

  被其他进程跟踪的进程

+ __TASK_STOPPED（停止）

  进程停止执行。

### 进程上下文

### 进程家族数

## 进程创建

### fork

```fork()``` 通过拷贝当前进程创建一个子进程。

写时拷贝：父进程和子进程共享同一个拷贝，只有在需要写入的时候，数据才会被复制。

### exec

```exec()```负责读取可执行文件并将其载入地址空间开始运行。

## 进程调度

多任务操作系统：能同时并发地执行多个进程的操作系统。

多任务系统分类：**非抢占式多任务**和抢占式多任务。

**抢占**：调度程序决定什么时候停止一个进程的运行，以便其他进程能够得到执行机会。这个强制的动作就叫做**抢占**。

**进程的时间片**：分配给每个可运行进程的处理器时间段。

### 策略

I/O 消耗型进程：大部分时间用来提交 I/O 请求或是等待 I/O 请求。

处理器消耗型：时间大多用在执行代码上。除非被抢占，否则它们通常都一直不停地运行。

#### 进程优先级

优先级高的进程先运行，低的后运行，相同优先级的进程按轮训方式进行调度。

Linux 采用了两种不同的优先级范围：

+ nice 值

  范围 -20 ~ 19，默认值为 0，越大的 nice 值意味这个更低的优先级。低 nice 值（高优先级）的进程可以获得更多的处理器时间。

+ 实时优先级

  其值可配，默认 0 ~ 99，越高的实时优先级数值意味着进程优先级越高。任何实时进程的优先级都高于普通的进程。

#### 时间片

Linux  进程获得的处理器时间和系统负载密切相关。这个比例进一步还会受进程 nice 值的影响，nice 值作为权重将调整进程所使用的处理器时间使用比。


## 调度算法



